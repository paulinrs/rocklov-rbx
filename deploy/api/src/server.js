const _0x4132=['static','MONGO_URL','public','42dQuAxQ','resolve','https','/.env','API_URL','Server','http','replace','get','cors','handshake','408518uquyVS','json','1083721VMIxSp','User\x20Object','connection','Rocklov\x20Docs','application/json','use','connectedUsers','query','343596rMxmGX','https://','Rocklov\x20API','983924NhkOrR','452291hwxHWR','listen','socket.io','PORT','mongoose','config','7138FBdNyX','676080NHpijo','env','apiKey','connect','header','/files'];const _0x357885=_0x24eb;(function(_0x4531f0,_0x5f2f24){const _0x42de44=_0x24eb;while(!![]){try{const _0x66d0b5=-parseInt(_0x42de44(0xbf))+parseInt(_0x42de44(0xab))+parseInt(_0x42de44(0xcc))+parseInt(_0x42de44(0xcd))+parseInt(_0x42de44(0xc9))+-parseInt(_0x42de44(0xc1))+-parseInt(_0x42de44(0xaa))*parseInt(_0x42de44(0xb4));if(_0x66d0b5===_0x5f2f24)break;else _0x4531f0['push'](_0x4531f0['shift']());}catch(_0xcda049){_0x4531f0['push'](_0x4531f0['shift']());}}}(_0x4132,0xa2130));function _0x24eb(_0x48505a,_0x249333){return _0x24eb=function(_0x413232,_0x24ebae){_0x413232=_0x413232-0xa7;let _0x5eaa04=_0x4132[_0x413232];return _0x5eaa04;},_0x24eb(_0x48505a,_0x249333);}const express=require('express'),mongoose=require(_0x357885(0xa8)),cors=require(_0x357885(0xbd)),path=require('path');require('dotenv')[_0x357885(0xa9)]({'path':__dirname+_0x357885(0xb7)});const socketio=require(_0x357885(0xcf)),http=require(_0x357885(0xba)),routes=require('./routes'),app=express(),server=http[_0x357885(0xb9)](app),io=socketio(server),expressSwagger=require('express-swagger-generator')(app);let options={'swaggerDefinition':{'info':{'description':_0x357885(0xc4),'title':_0x357885(0xcb),'version':'1.0.0'},'host':process[_0x357885(0xac)][_0x357885(0xb8)][_0x357885(0xbb)]('http://','')['replace'](_0x357885(0xca),''),'basePath':'/','produces':[_0x357885(0xc5)],'schemes':[_0x357885(0xba),_0x357885(0xb6)],'securityDefinitions':{'JWT':{'type':_0x357885(0xad),'in':_0x357885(0xaf),'name':'user_token','description':_0x357885(0xc2)}}},'swaggerOptions':{'validatorUrl':undefined},'basedir':__dirname,'files':['./routes.js']};expressSwagger(options),mongoose[_0x357885(0xae)](process[_0x357885(0xac)][_0x357885(0xb2)],{'useNewUrlParser':!![],'useUnifiedTopology':!![]});const connectedUsers={};io['on'](_0x357885(0xc3),_0x44efdd=>{const _0x586f7f=_0x357885,{user_token:_0x5b05f0}=_0x44efdd[_0x586f7f(0xbe)][_0x586f7f(0xc8)];connectedUsers[_0x5b05f0]=_0x44efdd['id'];}),app[_0x357885(0xc6)]((_0x160a48,_0x3c3b13,_0x177d8c)=>{const _0x371809=_0x357885;return _0x160a48['io']=io,_0x160a48[_0x371809(0xc7)]=connectedUsers,_0x177d8c();}),app['use'](cors()),app[_0x357885(0xc6)](express[_0x357885(0xc0)]()),app[_0x357885(0xc6)](_0x357885(0xb0),express[_0x357885(0xb1)](path[_0x357885(0xb5)](__dirname,'..','uploads'))),app['use'](routes),app[_0x357885(0xc6)](express[_0x357885(0xb1)](_0x357885(0xb3))),app[_0x357885(0xbc)]('/',function(_0x42c8a1,_0xf21c6){const _0x5f515a=_0x357885;_0xf21c6[_0x5f515a(0xc0)]({'app':'Rocklov\x20API\x20by\x20qaninja.academy','version':'2.1','beta':!![],'release':0x9a});});const PORT=process[_0x357885(0xac)][_0x357885(0xa7)]||0xd05;server[_0x357885(0xce)](PORT);